# Environment Configuration for VULTR VM Deployment
# Deploy on the same Vultr VM as your MQTT broker

# =============================================================================
# Deployment Configuration
# =============================================================================
DEPLOYMENT_SCENARIO=vultr-vm

# Timezone Configuration
TZ=America/Los_Angeles

# =============================================================================
# MQTT Broker Configuration (Local on same VM)
# =============================================================================

# =============================================================================
# Network Configuration
# =============================================================================

# For Vultr VM deployment, consider using host networking
# This provides direct access to localhost MQTT broker
# Uncomment network_mode: host in docker-compose.yml for this scenario

# =============================================================================
# Logging Configuration
# =============================================================================
CONSOLE_LOG_LEVEL=INFO
FILE_LOG_LEVEL=DEBUG
CLEAR_LOG_FILE=true

# =============================================================================
# MQTT Info
# =============================================================================

# Sensor republisher topics
SUB_TOPICS_REPUBLISH="+/sensors/raw/#"
PUBLISH_INTERVAL_MAX=300

# Shelly processor topics
SUB_TOPICS_SHELLY="Shelly/#"

# Publication configuration
PUB_TOPIC_ROOT=KTBMES
PUB_SOURCE=vultr-vm

# Broker Selection (selects from predefined configs in broker_config.py)
BROKER_NAME=n-vultr2
MQTT_CONFIG_INFO={}

# =============================================================================
# Vultr VM Deployment Notes
# =============================================================================

# 1. Docker containers running on same VM as MQTT broker
# 2. Use localhost/127.0.0.1 for MQTT broker address
# 3. Consider host networking for direct localhost access
# 4. No firewall issues since everything is local
# 5. Remove local mqtt-broker service from docker-compose

# =============================================================================
# Host Networking Configuration
# =============================================================================

# To enable host networking for Vultr VM deployment:
# 1. Uncomment "network_mode: host" in docker-compose.yml services
# 2. Remove "networks:" and "depends_on:" sections
# 3. This gives containers direct access to VM's localhost

# =============================================================================
# Resource Considerations
# =============================================================================

# Running on same VM as MQTT broker:
# - Monitor CPU and memory usage
# - Consider resource limits for containers
# - MQTT broker and containers share VM resources
# - Ensure adequate disk space for logs and data