# Environment Configuration for HOME LAB Deployment
# Deploy on your local lab machines with access via home ISP

# =============================================================================
# Deployment Configuration
# =============================================================================
DEPLOYMENT_SCENARIO=home-lab

# Timezone Configuration
TZ=America/Los_Angeles

# =============================================================================
# MQTT Broker Configuration (External Vultr VM)
# =============================================================================

# =============================================================================
# Network Configuration
# =============================================================================

# For home lab deployment, use bridge networking (default)
# This allows containers to communicate with external MQTT broker
# while maintaining container isolation

# =============================================================================
# Logging Configuration
# =============================================================================
CONSOLE_LOG_LEVEL=INFO
FILE_LOG_LEVEL=DEBUG
CLEAR_LOG_FILE=true

# =============================================================================
# Service Configuration
# =============================================================================

# Sensor republisher topics
SUB_TOPICS_REPUBLISH="+/sensors/raw/#"
PUBLISH_INTERVAL_MAX=300

# Shelly processor topics  
SUB_TOPICS_SHELLY="Shelly/#"

# Publication configuration
PUB_TOPIC_ROOT=KTBMES
PUB_SOURCE=home-lab

# Broker Selection (selects from predefined configs in broker_config.py)
BROKER_NAME=n-vultr2
MQTT_CONFIG_INFO={}

# =============================================================================
# Connectivity Notes for Home Lab Deployment
# =============================================================================

# 1. Your lab machines should have your home ISP's public IP
# 2. MQTT broker on Vultr VM allows connections from your home ISP
# 3. Alternatively, if using Tailscale:
#    - Ensure lab machines are on Tailscale network
#    - Use BROKER_NAME with Tailscale config (e.g., ts-vultr1, ts-vultr2)
# 4. No local MQTT broker needed (connects to Vultr VM)

# =============================================================================
# Tailscale Alternative Configuration
# =============================================================================

# If using Tailscale network instead of public IP:
# BROKER_NAME=ts-vultr2  # Uses Vultr VM's Tailscale IP
# Ensure Vultr VM firewall allows Tailscale network range